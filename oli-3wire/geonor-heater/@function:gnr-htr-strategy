function gnr_htr_strategy(ambient_temp, orifice_temp) as float
    '' OUTPUT RATIO SHOULD BE >=0 AND <=1
    '' the output is the ratio of time on vs time off over the heater duty cycle period
    '' rather arbitary heater control strategy: 
    ''      0 (off) above 10C
    ''      0.1 below -10C
    ''      ramp up/down to 0.5 between -10 and +10 C
    '' orifice temp is not used, but could be, e.g., to limit heating if orifice is warm
    dim ratio
    dim slope
    if ambient_temp > 10 then
        ratio = 0
    else if ambient_temp < -10 then
        ratio = 0.1
    else if ambient_temp > 0 then
        ' y=mx+b or ratio = slope * ambient + offset
        ' slope goes from .5 down to 0 over 10 C
        ' offset, the value at 0 C, is .5 for both cases
        ratio = ambient_temp * (-.5/10) + .5
    else ' temp is > -10 and <= 0 C
        ' slope goes from .1 up to .5 over 10 C
        ratio = ambient_temp * (.4/10) + .5
    if ratio < 0 then ratio = 0
    if ratio > 1 then ratio = 1
    return ratio
endfunction
